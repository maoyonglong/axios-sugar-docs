<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HTTP响应状态码处理 | axios-sugar</title>
    <meta name="generator" content="VuePress 1.5.4">
    
    <meta name="description" content="axios.js的二次封装">
    <link rel="preload" href="/axios-sugar-docs/assets/css/0.styles.be0819b1.css" as="style"><link rel="preload" href="/axios-sugar-docs/assets/js/app.1f2d0d2f.js" as="script"><link rel="preload" href="/axios-sugar-docs/assets/js/2.909ae7c3.js" as="script"><link rel="preload" href="/axios-sugar-docs/assets/js/5.753ed91a.js" as="script"><link rel="prefetch" href="/axios-sugar-docs/assets/js/10.3cf07c23.js"><link rel="prefetch" href="/axios-sugar-docs/assets/js/11.56718570.js"><link rel="prefetch" href="/axios-sugar-docs/assets/js/12.4b8e79e4.js"><link rel="prefetch" href="/axios-sugar-docs/assets/js/13.6d3f4bee.js"><link rel="prefetch" href="/axios-sugar-docs/assets/js/14.8ca3faec.js"><link rel="prefetch" href="/axios-sugar-docs/assets/js/15.ad3c8935.js"><link rel="prefetch" href="/axios-sugar-docs/assets/js/16.33844c4a.js"><link rel="prefetch" href="/axios-sugar-docs/assets/js/17.1db175c4.js"><link rel="prefetch" href="/axios-sugar-docs/assets/js/18.9d84023e.js"><link rel="prefetch" href="/axios-sugar-docs/assets/js/19.624fc1dd.js"><link rel="prefetch" href="/axios-sugar-docs/assets/js/20.82a055a4.js"><link rel="prefetch" href="/axios-sugar-docs/assets/js/21.cb7bb335.js"><link rel="prefetch" href="/axios-sugar-docs/assets/js/22.526caf86.js"><link rel="prefetch" href="/axios-sugar-docs/assets/js/23.9caa6e30.js"><link rel="prefetch" href="/axios-sugar-docs/assets/js/24.9a2ba6b2.js"><link rel="prefetch" href="/axios-sugar-docs/assets/js/25.6da1a825.js"><link rel="prefetch" href="/axios-sugar-docs/assets/js/26.61f035d5.js"><link rel="prefetch" href="/axios-sugar-docs/assets/js/3.1f7c5f47.js"><link rel="prefetch" href="/axios-sugar-docs/assets/js/4.55ed2385.js"><link rel="prefetch" href="/axios-sugar-docs/assets/js/6.373dfa9f.js"><link rel="prefetch" href="/axios-sugar-docs/assets/js/7.2d2cdb5b.js"><link rel="prefetch" href="/axios-sugar-docs/assets/js/8.c2cf471e.js"><link rel="prefetch" href="/axios-sugar-docs/assets/js/9.004fef91.js">
    <link rel="stylesheet" href="/axios-sugar-docs/assets/css/0.styles.be0819b1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/axios-sugar-docs/zh/" class="home-link router-link-active"><!----> <span class="site-name">axios-sugar</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/axios-sugar-docs/zh/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/axios-sugar-docs/zh/guide/" class="nav-link router-link-active">
  指南
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/axios-sugar-docs/guide/httpstatushandlers.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/axios-sugar-docs/zh/guide/httpstatushandlers.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/maoyonglong/axios-sugar" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/axios-sugar-docs/zh/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/axios-sugar-docs/zh/guide/" class="nav-link router-link-active">
  指南
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/axios-sugar-docs/guide/httpstatushandlers.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/axios-sugar-docs/zh/guide/httpstatushandlers.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/maoyonglong/axios-sugar" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/axios-sugar-docs/zh/guide/" aria-current="page" class="sidebar-link">开始</a></li><li><a href="/axios-sugar-docs/zh/guide/configuration.html" class="sidebar-link">配置</a></li><li><a href="/axios-sugar-docs/zh/guide/repeat.html" class="sidebar-link">重复请求</a></li><li><a href="/axios-sugar-docs/zh/guide/retry.html" class="sidebar-link">错误重传</a></li><li><a href="/axios-sugar-docs/zh/guide/network.html" class="sidebar-link">网络状态</a></li><li><a href="/axios-sugar-docs/zh/guide/save.html" class="sidebar-link">响应存储</a></li><li><a href="/axios-sugar-docs/zh/guide/httpstatushandlers.html" aria-current="page" class="active sidebar-link">HTTP响应状态码处理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/axios-sugar-docs/zh/guide/httpstatushandlers.html#处理流程" class="sidebar-link">处理流程</a></li><li class="sidebar-sub-header"><a href="/axios-sugar-docs/zh/guide/httpstatushandlers.html#自定义状态码处理" class="sidebar-link">自定义状态码处理</a></li></ul></li><li><a href="/axios-sugar-docs/zh/guide/cancel.html" class="sidebar-link">取消</a></li><li><a href="/axios-sugar-docs/zh/guide/concurrency.html" class="sidebar-link">并发</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="http响应状态码处理"><a href="#http响应状态码处理" class="header-anchor">#</a> HTTP响应状态码处理</h1> <p>这可以说是axios-sugar的核心部分之一，许多功能依赖它来实现。</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>错误重传，网络状态处理都依赖于它实现。</p></div> <h2 id="处理流程"><a href="#处理流程" class="header-anchor">#</a> 处理流程</h2> <p><img src="data:image/png;base64,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" alt="http_status_process.png"><br>
其中onStatusHander表示每个status对应调用的处理函数。</p> <table><thead><tr><th>状态码</th> <th>函数名</th></tr></thead> <tbody><tr><td>400</td> <td>onBadRequest</td></tr> <tr><td>401</td> <td>onUnauthorized</td></tr> <tr><td>403</td> <td>onForbidden</td></tr> <tr><td>404</td> <td>onNotFound</td></tr> <tr><td>405</td> <td>onMethodNotAllow</td></tr> <tr><td>406</td> <td>onNotAcceptable</td></tr> <tr><td>407</td> <td>onProxyAuthenticationRequired</td></tr> <tr><td>408</td> <td>onTimeout</td></tr> <tr><td>409</td> <td>onConflict</td></tr> <tr><td>500</td> <td>onInternalServerError</td></tr> <tr><td>501</td> <td>onNotImplemented</td></tr> <tr><td>502</td> <td>onBadGateway</td></tr></tbody></table> <p>重写这些方法可以实现对对应状态码的自定义处理。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> AxiosSugar <span class="token keyword">from</span> <span class="token string">'axios-sugar'</span><span class="token punctuation">;</span>

<span class="token comment">// 重写onBadRequest</span>
AxiosSugar<span class="token punctuation">.</span>httpStatusProcessor<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'badRequest'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>
  status<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  err<span class="token operator">:</span> MiddleResponseError<span class="token punctuation">,</span>
  result<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span>
  retry<span class="token operator">?</span><span class="token operator">:</span> retry
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ....</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>onStatusBefore和conStatusAfter则包括<code>onXXXBefore</code>，<code>onXXXAfter</code>和它们本身。</p> <p><code>onXXXBefore</code>和<code>onXXXAfter</code>的第一个X可以是1到5的数字，比如<code>on5XXBefore</code>。它们用于处理特定数字开头的状态码。
而<code>onStatusBefore</code>和<code>onStatusAfter</code>是全局的处理，对所有的状态码都处理，除非该状态码对应的<code>onXXXBefore</code>，<code>onXXXAfter</code>有定义。</p> <blockquote><p>也就是说，优先选择<code>onXXXBefore</code>和<code>onXXXAfter</code>处理错误响应，匹配不到对应函数，就统一使用<code>onStatusBefore</code>和<code>onStatusAfter</code>处理。</p></blockquote> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>我们可以注意到，每一步处理都返回了result，这个result会被依次传递给每一步执行的函数。<br>
所以上一步函数返回的result，直接决定下一步函数所接收result参数的值。</p></div> <h2 id="自定义状态码处理"><a href="#自定义状态码处理" class="header-anchor">#</a> 自定义状态码处理</h2> <p>可以发现，默认定义的状态码处理不全，比如对200状态码的处理函数就没有定义。这时，就需要自定义相应的函数。</p> <div class="language-js extra-class"><pre class="language-js"><code>AxiosSugar<span class="token punctuation">.</span>httpStatusProcessor<span class="token punctuation">.</span><span class="token function">setStatusHandler</span><span class="token punctuation">(</span><span class="token string">'200'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>
  <span class="token parameter">status<span class="token operator">:</span> string<span class="token punctuation">,</span>
  err<span class="token operator">:</span> MiddleResponseError<span class="token punctuation">,</span>
  result<span class="token operator">:</span> any<span class="token punctuation">,</span>
  retry<span class="token operator">?</span><span class="token operator">:</span> retry</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ....</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/axios-sugar-docs/zh/guide/save.html" class="prev">
        响应存储
      </a></span> <span class="next"><a href="/axios-sugar-docs/zh/guide/cancel.html">
        取消
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/axios-sugar-docs/assets/js/app.1f2d0d2f.js" defer></script><script src="/axios-sugar-docs/assets/js/2.909ae7c3.js" defer></script><script src="/axios-sugar-docs/assets/js/5.753ed91a.js" defer></script>
  </body>
</html>
